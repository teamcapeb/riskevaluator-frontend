<app-oops-message *ngIf="dataSource.length == 0" ></app-oops-message>
<div *ngIf = "dataSource.length > 0" style="padding: 16px;">
  <div class="d-flex justify-content-center">
    <h1 class="pt-2 title">Détails des évaluations de {{this.entreprise?.nomEntreprise}}</h1>
  </div>
  <div class="d-flex justify-content-center">
    <h4 class="justify-content-center" style="padding: 16px;">SIRET: {{this.entreprise?.noSiret}}</h4>
  </div>

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <!-- colonne Métier -->
    <ng-container matColumnDef="metier">
      <th mat-header-cell *matHeaderCellDef> Métiers </th>
      <td mat-cell *matCellDef="let element"> {{element.metiers}} </td>
    </ng-container>

    <!-- colonne Questionnaire -->
    <ng-container matColumnDef="questionnaire">
      <th mat-header-cell *matHeaderCellDef> Questionnaire </th>
      <td mat-cell *matCellDef="let element"> {{element.questionnaire}} </td>
    </ng-container>

    <!-- colonne Score -->
    <ng-container matColumnDef="score">
      <th mat-header-cell *matHeaderCellDef> Score </th>
      <td mat-cell *matCellDef="let element"> {{element.score}}% </td>
    </ng-container>

    <!-- colonne Score -->
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef> Date </th>
      <td mat-cell *matCellDef="let element"> {{element.date}} </td>
    </ng-container>

    <!-- colonne Action -->
    <ng-container matColumnDef="action">
      <th mat-header-cell  *matHeaderCellDef > Résultat </th>
      <td *matCellDef="let element" >
          <button class = 'grey' mat-raised-button (click)="goToResult(element.idEvaluation)">AFFICHER</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
